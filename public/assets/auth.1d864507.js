import{m as t,a as s}from"./Alert.e0b33391.js";const c=document.querySelector("#login");c.addEventListener("click",l);async function l(n){n.preventDefault();const r=document.querySelector("#email").value,a=document.querySelector("#contrase\xF1a").value;if(r===""||a==="")return t("Correo y contrase\xF1a obligatorios","error",".formulario");const o=new FormData;o.append("email",r),o.append("contrase\xF1a",a);try{const e=await(await fetch(`${s}/login`,{method:"POST",body:o})).json();if(e.tipo==="error")return t(e.mensaje,"error",".formulario");e.login&&(localStorage.setItem("user",`${e.nombre} ${e.apellido}`),localStorage.setItem("id",e.id_user),t("Inicio de sesion exitoso","exito",".formulario"),e.admin==="1"?setTimeout(()=>{window.location.href="/pages/admin/admin.html"},1500):setTimeout(()=>{window.location.href="/pages/citas/citas.html"},1500))}catch(i){console.log(i)}}
